<!DOCTYPE html>
<html>
<head>
    <title>Billing Dashboard</title>
    <meta charset="utf-8">
</head>
<body>

<h1>Billing System Dashboard</h1>

<p>
    <a href="{% url 'customer_list' %}">Customers</a> |
    <a href="{% url 'product_list' %}">Products</a> |
    <a href="{% url 'invoice_list' %}">Invoices</a> |
    <a href="{% url 'payment_list' %}">Payments</a> |
    <a href="{% url 'reports_home' %}">Reports</a> |
    <a href="/core/">Core</a>
</p>

<hr>

<!-- ===================== -->
<!-- CUSTOMERS -->
<!-- ===================== -->
<h2>Customers</h2>
<p><a href="{% url 'customer_add' %}">âž• Add Customer</a></p>

<table border="1" cellpadding="5">
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Phone</th>
        <th>Action</th>
    </tr>
    {% for c in customers %}
    <tr>
        <td>{{ c.id }}</td>
        <td>{{ c.name }}</td>
        <td>{{ c.phone }}</td>
        <td>
            <a href="{% url 'customer_edit' c.id %}">Edit</a> |
            <a href="{% url 'customer_delete' c.id %}">Delete</a>
        </td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="4">No customers</td>
    </tr>
    {% endfor %}
</table>

<hr>

<!-- ===================== -->
<!-- PRODUCTS -->
<!-- ===================== -->
<h2>Products</h2>
<p><a href="{% url 'product_add' %}">âž• Add Product</a></p>

<table border="1" cellpadding="5">
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Price</th>
        <th>Action</th>
    </tr>
    {% for p in products %}
    <tr>
        <td>{{ p.id }}</td>
        <td>{{ p.name }}</td>
        <td>{{ p.price }}</td>
        <td>
            <a href="{% url 'product_edit' p.id %}">Edit</a> |
            <a href="{% url 'product_delete' p.id %}">Delete</a>
        </td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="4">No products</td>
    </tr>
    {% endfor %}
</table>

<hr>

<!-- ===================== -->
<!-- INVOICES -->
<!-- ===================== -->
<h2>Invoices</h2>
<p><a href="{% url 'invoice_add' %}">âž• Add Invoice</a></p>

<table border="1" cellpadding="5">
    <tr>
        <th>ID</th>
        <th>Customer</th>
        <th>Total</th>
        <th>Status</th>
        <th>Action</th>
    </tr>
    {% for i in invoices %}
    <tr>
        <td>{{ i.id }}</td>
        <td>{{ i.customer.name }}</td>
        <td>{{ i.total }}</td>
        <td>{{ i.status }}</td>
        <td>
            <a href="{% url 'invoice_view' i.id %}">View</a> |
            <a href="{% url 'invoice_edit' i.id %}">Edit</a> |
            <a href="{% url 'invoice_delete' i.id %}">Delete</a> |
            <a href="{% url 'payment_add' i.id %}">ðŸ’° Payment</a>
        </td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="5">No invoices</td>
    </tr>
    {% endfor %}
</table>

<hr>

<!-- ===================== -->
<!-- PAYMENTS -->
<!-- ===================== -->
<h2>Payments</h2>
<p><a href="{% url 'payment_list' %}">View All Payments</a></p>

<table border="1" cellpadding="5">
    <tr>
        <th>ID</th>
        <th>Invoice</th>
        <th>Amount</th>
        <th>Date</th>
    </tr>
    {% for pay in payments %}
    <tr>
        <td>{{ pay.id }}</td>
        <td>{{ pay.invoice.id }}</td>
        <td>{{ pay.amount }}</td>
        <td>{{ pay.date }}</td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="4">No payments</td>
    </tr>
    {% endfor %}
</table>

</body>
</html>
