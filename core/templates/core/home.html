<!DOCTYPE html>
<html>
<head>
    <title>Billing Dashboard</title>
</head>
<body>

<h1>Billing System Dashboard</h1>

<!-- ===================== TOP MENU ===================== -->
<p>
    <a href="/customers/">Customers</a> |
    <a href="/products/">Products</a> |
    <a href="/invoices/">Invoices</a> |
    <a href="/payments/">Payments</a> |
    <a href="/reports/">ðŸ“Š Reports</a>
</p>

<br><hr><br>


<!-- ===================== CUSTOMERS ===================== -->
<h2>Customers</h2>
<a href="/customers/add/">âž• Add Customer</a><br><br>

<table border="1" cellpadding="10">
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Phone</th>
        <th>Action</th>
    </tr>

    {% for c in customers %}
    <tr>
        <td>{{ c.id }}</td>
        <td>{{ c.name }}</td>
        <td>{{ c.phone }}</td>
        <td>
            <a href="/customers/{{ c.id }}/edit/">Edit</a> |
            <a href="/customers/{{ c.id }}/delete/">Delete</a> |
            <a href="/reports/customer-statement/{{ c.id }}/">Statement</a>
        </td>
    </tr>
    {% empty %}
    <tr><td colspan="4">No customers</td></tr>
    {% endfor %}
</table>

<br><hr><br>


<!-- ===================== PRODUCTS ===================== -->
<h2>Products</h2>
<a href="/products/add/">âž• Add Product</a><br><br>

<table border="1" cellpadding="10">
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Price</th>
        <th>Action</th>
    </tr>

    {% for p in products %}
    <tr>
        <td>{{ p.id }}</td>
        <td>{{ p.name }}</td>
        <td>{{ p.price }}</td>
        <td>
            <a href="/products/{{ p.id }}/edit/">Edit</a> |
            <a href="/products/{{ p.id }}/delete/">Delete</a>
        </td>
    </tr>
    {% empty %}
    <tr><td colspan="4">No products</td></tr>
    {% endfor %}
</table>

<br><hr><br>


<!-- ===================== INVOICES ===================== -->
<h2>Invoices</h2>
<a href="/invoices/add/">âž• Add Invoice</a><br><br>

<table border="1" cellpadding="10">
    <tr>
        <th>ID</th>
        <th>Customer</th>
        <th>Total</th>
        <th>Status</th>
        <th>Action</th>
    </tr>

    {% for i in invoices %}
    <tr>
        <td>{{ i.id }}</td>
        <td>{{ i.customer.name }}</td>
        <td>{{ i.total }}</td>
        <td>{{ i.status }}</td>
        <td>
            <a href="/invoices/{{ i.id }}/">View</a> |
            <a href="/invoices/{{ i.id }}/edit/">Edit</a> |
            <a href="/invoices/{{ i.id }}/delete/">Delete</a> |
            <a href="/payments/{{ i.id }}/add/">ðŸ’° Payment</a>
        </td>
    </tr>
    {% empty %}
    <tr><td colspan="5">No invoices</td></tr>
    {% endfor %}
</table>

<br><hr><br>


<!-- ===================== PAYMENTS ===================== -->
<h2>Payments</h2>
<a href="/payments/add/">âž• Add Payment</a><br><br>

<table border="1" cellpadding="10">
    <tr>
        <th>ID</th>
        <th>Invoice</th>
        <th>Customer</th>
        <th>Amount</th>
        <th>Date</th>
        <th>Action</th>
    </tr>

    {% for p in payments %}
    <tr>
        <td>{{ p.id }}</td>
        <td>{{ p.invoice.id }}</td>
        <td>{{ p.invoice.customer.name }}</td>
        <td>{{ p.amount }}</td>
        <td>{{ p.date }}</td>
        <td>
            <a href="/payments/{{ p.invoice.id }}/history/">ðŸ§¾ History</a>
        </td>
    </tr>
    {% empty %}
    <tr><td colspan="6">No payments</td></tr>
    {% endfor %}
</table>

</body>
</html>
